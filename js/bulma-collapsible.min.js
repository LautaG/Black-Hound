document.addEventListener('DOMContentLoaded', () => {
  var collapsible = Array.prototype.slice.call(document.querySelectorAll('.collapsible-header'));
  collapsible.forEach(el => {
    el.addEventListener('click', (e) => {
      var target = document.getElementById(el.dataset.controls);
      target.classList.toggle('is-active');
      el.classList.toggle('is-active');
      var body = document.querySelector("#" + el.dataset.controls + " .collapsible-body");
      var setHeight = document.querySelector("#" + el.dataset.controls + " .collapsible-content").getBoundingClientRect().height;
      if (target.classList.contains('is-active')) {
        body.style.height = setHeight + "px";
      } else {
        body.style.height = 0;
      }
    })
  })
})